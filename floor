--[[ floor v1.0.1
	長方形の床貼りプログラム。

	Author: Igaguri (2015)
]]

---- 関数 ----

local function putDown()
	turtle.digUp()
	turtle.digDown()
	turtle.placeDown()
end

local function forceForward()
	turtle.dig()
	turtle.forward()
end

local function putLine(n)
	for xPos = 1, n-1 do
		putDown()
		forceForward()
	end
	putDown()
end

---- main ----

-- 引数処理
local args = {...}

assert(#args < 2, 	"ERROR: There are too few arguments. \n"
					.. " floor <length> <width> \n")

local length = args[1]
local width = args[2]

-- まず偶数分は往復しながら置く
while length >= 2 do
	turtle.turnRight()
	putLine(width)

	turtle.turnLeft()
	forceForward()
	turtle.turnLeft()
	putLine(width)
	turtle.turnRight()
	forceForward()

	length = length - 2
end

-- 奇数の時は残りを置く
if length == 1 then
	turtle.turnRight()
	putLine(width)
	turtle.turnLeft()
end

-- 回収のために少し下がる。
turtle.back()
turtle.back()